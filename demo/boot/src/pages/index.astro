---
import '../styles/index.css';
import Layout from '../../../shared/Layout.astro';
---

<Layout title="Boot Demo" package="@astroscope/boot">
  <p class="text-lg mb-6">
    This demo shows the @astroscope/boot integration with onStartup and onShutdown lifecycle hooks.
  </p>

  <div class="card bg-base-100 shadow-xl">
    <div class="card-body">
      <h2 class="card-title">Features</h2>
      <ul class="list-disc list-inside space-y-2">
        <li><code class="badge badge-ghost">onStartup</code> - Run async initialization before the first request</li>
        <li><code class="badge badge-ghost">onShutdown</code> - Graceful cleanup on SIGTERM/SIGINT</li>
        <li><code class="badge badge-ghost">hmr: true</code> - Re-run hooks on file changes in dev mode</li>
      </ul>
    </div>
  </div>

  <div class="card bg-base-100 shadow-xl mt-6">
    <div class="card-body">
      <h2 class="card-title">Usage</h2>
      <pre class="bg-base-300 p-4 rounded-lg overflow-x-auto text-sm"><code>{`// src/boot.ts
import { onStartup, onShutdown } from '@astroscope/boot';

onStartup(async () => {
  console.log('App starting...');
  await connectToDatabase();
});

onShutdown(async () => {
  console.log('App shutting down...');
  await closeDatabase();
});`}</code></pre>
    </div>
  </div>
</Layout>
