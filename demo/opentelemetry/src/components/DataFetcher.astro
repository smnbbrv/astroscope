---
interface Props {
  endpoint: string;
}

const { endpoint } = Astro.props;

// This fetch will be traced automatically by the fetch instrumentation
const response = await fetch(endpoint);
const data = await response.json();
---

<div class="data-fetcher">
  <h4>Data from {endpoint}</h4>
  <pre>{JSON.stringify(data, null, 2).slice(0, 200)}...</pre>
</div>

<style>
  .data-fetcher {
    padding: 1rem;
    margin: 0.5rem 0;
    background: #e8f4e8;
    border-radius: 4px;
    border-left: 3px solid #4a4;
  }
  h4 {
    margin: 0 0 0.5rem 0;
    font-size: 0.875rem;
    color: #333;
  }
  pre {
    margin: 0;
    font-size: 0.75rem;
    overflow: hidden;
    white-space: pre-wrap;
  }
</style>
